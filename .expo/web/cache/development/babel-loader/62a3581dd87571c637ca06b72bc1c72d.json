{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dinujaya\\\\Desktop\\\\AwesomeProject\\\\Screens\\\\Cart.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Table, TableWrapper, Row, Cell } from 'react-native-table-component';\nimport { cart, CartContext } from \"../Context/context\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport ProfileScreen from \"./ProfileScreen\";\nvar initialState = {\n  tableHead: ['Item No', 'Item Name', 'Quantity', 'Sales Price', 'Increase', 'Decrease', 'Remove'],\n  tableData: [],\n  totalAmount: 0,\n  discount: 0,\n  grandTotal: 0,\n  userId: '',\n  shopId: ''\n};\n\nvar Cart = function (_Component) {\n  _inherits(Cart, _Component);\n\n  var _super = _createSuper(Cart);\n\n  function Cart() {\n    var _this;\n\n    _classCallCheck(this, Cart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = initialState;\n\n    _this.discountOnChangeHandler = function (discount) {\n      _this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          discount: discount,\n          grandTotal: parseFloat(_this.state.totalAmount) - parseFloat(_this.state.totalAmount * discount / 100)\n        });\n      });\n    };\n\n    _this.refreshCart = function () {\n      cart.products = [];\n      cart.totalAmaount = 0;\n      cart.shopidfo = null;\n\n      _this.setState(initialState);\n    };\n\n    _this.submitButtonHandler = function () {\n      var _console;\n\n      fetch('http://104.236.38.247:8000/api/order', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          grandTotal: _this.state.grandTotal,\n          discount: _this.state.discount,\n          userId: _this.context.loginuserid2,\n          shopId: _this.context.shopidfo,\n          productDetails: _toConsumableArray(_this.state.tableData)\n        })\n      });\n      console.log('grandTotal' + _this.state.grandTotal);\n      console.log('discount' + _this.state.discount);\n      console.log('productDetails');\n\n      (_console = console).log.apply(_console, _toConsumableArray(_this.state.tableData));\n\n      _this.refreshCart();\n\n      cart.shopidfo = null;\n      cart.categoryid = null;\n      console.log('cartshopid' + cart.shopidfo);\n\n      _this.props.navigation.navigate('Explore');\n    };\n\n    return _this;\n  }\n\n  _createClass(Cart, [{\n    key: \"removeProductFromCart\",\n    value: function removeProductFromCart(index) {\n      var _this2 = this;\n\n      cart.totalAmaount = parseFloat(cart.totalAmaount) - parseFloat(cart.products[index].salesPrice * cart.products[index].productQuantity);\n      cart.products.splice(index, 1);\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: _this2.context.products,\n          totalAmount: _this2.context.totalAmaount,\n          grandTotal: parseFloat(_this2.context.totalAmaount) - parseFloat(_this2.context.totalAmaount * _this2.state.discount / 100)\n        });\n      });\n    }\n  }, {\n    key: \"increaseProductFromCart\",\n    value: function increaseProductFromCart(index2) {\n      var _this3 = this;\n\n      var newArray = this.state.tableData.map(function (elemet, index) {\n        if (index == index2) {\n          return _objectSpread(_objectSpread({}, elemet), {}, {\n            productQuantity: parseInt(elemet.productQuantity) + 1\n          });\n        }\n\n        return elemet;\n      });\n      var totalAmount = newArray.map(function (product) {\n        return product.productQuantity * product.salesPrice;\n      }).reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: newArray,\n          totalAmount: totalAmount,\n          grandTotal: parseFloat(totalAmount) - parseFloat(totalAmount * _this3.state.discount / 100)\n        });\n      });\n      cart.totalAmaount = totalAmount;\n      cart.products = newArray;\n    }\n  }, {\n    key: \"decreaseProductFromCart\",\n    value: function decreaseProductFromCart(index2) {\n      var _this4 = this;\n\n      var newArray = this.state.tableData.map(function (elemet, index) {\n        if (index == index2) {\n          return _objectSpread(_objectSpread({}, elemet), {}, {\n            productQuantity: parseInt(elemet.productQuantity) - 1 < 1 ? 1 : parseInt(elemet.productQuantity) - 1\n          });\n        }\n\n        return elemet;\n      });\n      var totalAmount = newArray.map(function (product) {\n        return product.productQuantity * product.salesPrice;\n      }).reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      console.log(totalAmount);\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: newArray,\n          totalAmount: totalAmount,\n          grandTotal: parseFloat(totalAmount) - parseFloat(totalAmount * _this4.state.discount / 100)\n        });\n      });\n      cart.totalAmaount = totalAmount;\n      cart.products = newArray;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this5 = this;\n\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: _this5.context.products,\n          totalAmount: _this5.context.totalAmaount,\n          grandTotal: _this5.context.totalAmaount\n        });\n      });\n      console.log(this.context.loginuserid2);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var state = this.state;\n\n      var element2 = function element2(index) {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this6.increaseProductFromCart(index);\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 11\n          }\n        }, React.createElement(Ionicons, {\n          name: \"add-circle-outline\",\n          size: 30,\n          color: \"#009387\",\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }\n        })));\n      };\n\n      var element3 = function element3(index) {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this6.decreaseProductFromCart(index);\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }\n        }, React.createElement(Ionicons, {\n          name: \"remove-circle-outline\",\n          size: 30,\n          color: \"#009387\",\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }\n        })));\n      };\n\n      var element = function element(data, index) {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this6.removeProductFromCart(index);\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 11\n          }\n        }, React.createElement(Ionicons, {\n          name: \"close-circle-outline\",\n          size: 30,\n          color: \"#009387\",\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }\n        })));\n      };\n\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.productCartOverallView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.productCartInlineView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.props.navigation.navigate('Category', {\n            title: 'Category'\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }\n      }, React.createElement(Ionicons, {\n        name: \"cog\",\n        size: 30,\n        color: \"#009387\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 17\n        }\n      }))), React.createElement(View, {\n        style: styles.productCartInlineView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.props.navigation.navigate('product', {\n            title: 'Product'\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }\n      }, React.createElement(Ionicons, {\n        name: \"pricetags\",\n        size: 30,\n        color: \"#009387\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }))), React.createElement(View, {\n        style: styles.productCartInlineView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.props.navigation.navigate('Cart', {\n            title: 'Cart'\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }\n      }, React.createElement(Ionicons, {\n        name: \"cart\",\n        size: 30,\n        color: \"#009387\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 17\n        }\n      })))), React.createElement(Table, {\n        borderStyle: {\n          borderColor: 'transparent'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }\n      }, React.createElement(Row, {\n        data: state.tableHead,\n        style: styles.head,\n        textStyle: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }\n      }), this.state.tableData.map(function (rowData, index) {\n        return React.createElement(TableWrapper, {\n          key: index,\n          style: styles.row,\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }\n        }, React.createElement(Cell, {\n          key: index,\n          data: index + 1,\n          textStyle: styles.text,\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 19\n          }\n        }), Object.values(rowData).filter(function (element, index) {\n          return index != 3;\n        }).map(function (cellData, cellIndex) {\n          return React.createElement(Cell, {\n            key: cellIndex,\n            data: cellData,\n            textStyle: styles.text,\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 27\n            }\n          });\n        }), React.createElement(Cell, {\n          key: 5,\n          data: element2(index),\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 19\n          }\n        }), React.createElement(Cell, {\n          key: 5,\n          data: element3(index),\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 19\n          }\n        }), React.createElement(Cell, {\n          key: 4,\n          textStyle: styles.text,\n          data: element(1, index),\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 19\n          }\n        }));\n      })), React.createElement(View, {\n        style: styles.textContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.inlineTextContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }\n      }, \"Sub Total : \", this.state.totalAmount), React.createElement(TextInput, {\n        placeholder: \"Discount\",\n        keyboardType: \"numeric\",\n        placeholderTextColor: \"#333\",\n        value: this.state.discount.toString(),\n        onChangeText: function onChangeText(text) {\n          return _this6.discountOnChangeHandler(text);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.inlineTextContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }\n      }, \"Grand Total(Bill Value) :\", this.state.grandTotal)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.submitButtonHandler();\n        },\n        style: styles.orderNowBtn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }\n      }, \"Order Now\"))));\n    }\n  }]);\n\n  return Cart;\n}(Component);\n\nexport { Cart as default };\nCart.contextType = CartContext;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  head: {\n    height: 40,\n    backgroundColor: '#808B97'\n  },\n  text: {\n    margin: 6\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#FFF1C1'\n  },\n  btn: {\n    width: 58,\n    height: 18,\n    backgroundColor: '#78B7BB',\n    borderRadius: 2\n  },\n  btnText: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  productCartOverallView: {\n    flexDirection: 'row',\n    width: '80%',\n    alignSelf: 'center',\n    marginTop: 0,\n    marginBottom: 10\n  },\n  productCartInlineView: {\n    borderWidth: 0.8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    width: 100,\n    height: 30,\n    backgroundColor: '#d1e5d1',\n    borderRadius: 60,\n    textAlign: 'center',\n    marginRight: 10,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  buttonContainer: {\n    margin: 20\n  },\n  multiButtonContainer: {\n    margin: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  addToCart: {\n    height: 25,\n    width: '40%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#009387',\n    borderRadius: 10,\n    marginRight: 0\n  },\n  addToCartText: {\n    height: 25,\n    width: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#009387',\n    borderRadius: 10,\n    marginRight: 10\n  },\n  formWrapper: {\n    width: '80%',\n    marginTop: 30\n  },\n  formRow: {\n    marginBottom: 10\n  },\n  textInput: {\n    backgroundColor: '#add',\n    height: 40,\n    paddingHorizontal: 10,\n    color: '#333',\n    borderRadius: 20\n  },\n  textContainer: {\n    marginTop: 20\n  },\n  inlineTextContainer: {\n    color: '#333',\n    fontSize: 15,\n    marginTop: 10\n  },\n  orderNowBtn: {\n    height: 42,\n    width: 100,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n    backgroundColor: 'green',\n    borderRadius: 20\n  },\n  orderNowText: {\n    color: 'white',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 16\n  }\n});","map":{"version":3,"sources":["C:/Users/Dinujaya/Desktop/AwesomeProject/Screens/Cart.js"],"names":["React","Component","Table","TableWrapper","Row","Cell","cart","CartContext","Ionicons","ProfileScreen","initialState","tableHead","tableData","totalAmount","discount","grandTotal","userId","shopId","Cart","state","discountOnChangeHandler","setState","cur","parseFloat","refreshCart","products","totalAmaount","shopidfo","submitButtonHandler","fetch","method","headers","Accept","body","JSON","stringify","context","loginuserid2","productDetails","console","log","categoryid","props","navigation","navigate","index","salesPrice","productQuantity","splice","index2","newArray","map","elemet","parseInt","product","reduce","a","b","element2","increaseProductFromCart","element3","decreaseProductFromCart","element","data","removeProductFromCart","styles","container","productCartOverallView","productCartInlineView","title","borderColor","head","text","rowData","row","Object","values","filter","cellData","cellIndex","textContainer","inlineTextContainer","toString","orderNowBtn","contextType","StyleSheet","create","flex","padding","paddingTop","backgroundColor","height","margin","flexDirection","btn","width","borderRadius","btnText","textAlign","color","alignSelf","marginTop","marginBottom","borderWidth","alignItems","justifyContent","marginRight","buttonContainer","multiButtonContainer","addToCart","addToCartText","formWrapper","formRow","textInput","paddingHorizontal","fontSize","orderNowText","fontWeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  ScrollView,\r\n} from 'react-native';\r\nimport {Table, TableWrapper, Row, Cell} from 'react-native-table-component';\r\nimport {cart, CartContext} from '../Context/context';\r\n// import {Users,UserContext} from './Context/context';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport ProfileScreen from \"./ProfileScreen\";\r\n\r\nconst initialState = {\r\n  tableHead: [\r\n    'Item No',\r\n    'Item Name',\r\n    'Quantity',\r\n    'Sales Price',\r\n    'Increase',\r\n    'Decrease',\r\n    'Remove',\r\n  ],\r\n  tableData: [],\r\n  totalAmount: 0,\r\n  discount: 0,\r\n  grandTotal: 0,\r\n  userId: '',\r\n  shopId: '',\r\n};\r\nexport default class Cart extends Component {\r\n  /*Starting - using table*/\r\n  state = initialState;\r\n\r\n  // Starting removeProductFromCart\r\n  removeProductFromCart(index) {\r\n    cart.totalAmaount =\r\n        parseFloat(cart.totalAmaount) -\r\n        parseFloat(\r\n            cart.products[index].salesPrice * cart.products[index].productQuantity,\r\n        );\r\n\r\n    cart.products.splice(index, 1);\r\n\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: this.context.products,\r\n      totalAmount: this.context.totalAmaount,\r\n      grandTotal:\r\n          parseFloat(this.context.totalAmaount) -\r\n          parseFloat((this.context.totalAmaount * this.state.discount) / 100),\r\n    }));\r\n  }\r\n  // Starting removeProductFromCart\r\n\r\n  // Starting increase quantity working\r\n  increaseProductFromCart(index2) {\r\n    const newArray = this.state.tableData.map((elemet, index) => {\r\n      if (index == index2) {\r\n        return {\r\n          ...elemet,\r\n          productQuantity: parseInt(elemet.productQuantity) + 1,\r\n        };\r\n      }\r\n      return elemet;\r\n    });\r\n\r\n    const totalAmount = newArray\r\n        .map((product) => product.productQuantity * product.salesPrice)\r\n        .reduce((a, b) => a + b, 0);\r\n\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: newArray,\r\n      totalAmount,\r\n      grandTotal:\r\n          parseFloat(totalAmount) -\r\n          parseFloat((totalAmount * this.state.discount) / 100),\r\n    }));\r\n\r\n    cart.totalAmaount = totalAmount;\r\n    cart.products = newArray;\r\n  }\r\n  // Ending increase quantity working\r\n\r\n  // Starting decrease quantity working\r\n  decreaseProductFromCart(index2) {\r\n    const newArray = this.state.tableData.map((elemet, index) => {\r\n      if (index == index2) {\r\n        return {\r\n          ...elemet,\r\n          productQuantity:\r\n              parseInt(elemet.productQuantity) - 1 < 1\r\n                  ? 1\r\n                  : parseInt(elemet.productQuantity) - 1,\r\n        };\r\n      }\r\n      return elemet;\r\n    });\r\n\r\n    const totalAmount = newArray\r\n        .map((product) => product.productQuantity * product.salesPrice)\r\n        .reduce((a, b) => a + b, 0);\r\n\r\n    console.log(totalAmount);\r\n\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: newArray,\r\n      totalAmount: totalAmount,\r\n      grandTotal:\r\n          parseFloat(totalAmount) -\r\n          parseFloat((totalAmount * this.state.discount) / 100),\r\n    }));\r\n\r\n    cart.totalAmaount = totalAmount;\r\n    cart.products = newArray;\r\n  }\r\n\r\n  // Ending decrease quantity working\r\n\r\n  componentDidMount() {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: this.context.products,\r\n      totalAmount: this.context.totalAmaount,\r\n      grandTotal: this.context.totalAmaount,\r\n\r\n    }));console.log(this.context.loginuserid2)\r\n  }\r\n\r\n  discountOnChangeHandler = (discount) => {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      discount,\r\n      grandTotal:\r\n          parseFloat(this.state.totalAmount) -\r\n          parseFloat((this.state.totalAmount * discount) / 100),\r\n    }));\r\n  };\r\n\r\n  /*  onChangeHandler = ({key, value}) => {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      [key]: value,\r\n    }));\r\n  };*/\r\n\r\n  // userOnChangeHandler = (userid) => {\r\n  //   this.setState((cur) => ({\r\n  //     ...cur,\r\n  //     userId: userid,\r\n  //   }));\r\n  // };\r\n  //\r\n  // shopOnChangeHandler = (shopid) => {\r\n  //   this.setState((cur) => ({\r\n  //     ...cur,\r\n  //     shopId: shopid,\r\n  //   }));\r\n  // };\r\n\r\n  refreshCart = () => {\r\n    cart.products = [];\r\n    cart.totalAmaount = 0;\r\n    cart.shopidfo=null;\r\n    this.setState(initialState);\r\n  };\r\n\r\n  /*Starting submit*/\r\n\r\n  submitButtonHandler = () => {\r\n    fetch('http://104.236.38.247:8000/api/order', {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        grandTotal: this.state.grandTotal,\r\n        discount: this.state.discount,\r\n        userId: this.context.loginuserid2,\r\n        shopId: this.context.shopidfo,\r\n        productDetails: [...this.state.tableData],\r\n      }),\r\n    });\r\n\r\n    console.log('grandTotal' + this.state.grandTotal);\r\n    console.log('discount' + this.state.discount);\r\n    // console.log('userId' + this.state.userId);\r\n    // console.log('shopId' + this.state.shopId);\r\n    console.log('productDetails');\r\n    console.log(...this.state.tableData);\r\n\r\n    this.refreshCart();\r\n    cart.shopidfo=null;\r\n    cart.categoryid=null;\r\n    console.log('cartshopid'+cart.shopidfo);\r\n    this.props.navigation.navigate('Explore');\r\n\r\n  };\r\n\r\n  /*Ending submit*/\r\n\r\n  render() {\r\n    const state = this.state;\r\n\r\n    const element2 = (index) => (\r\n        <TouchableOpacity onPress={() => this.increaseProductFromCart(index)}>\r\n          <View>\r\n            <Ionicons name=\"add-circle-outline\" size={30} color=\"#009387\" />\r\n          </View>\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    const element3 = (index) => (\r\n        <TouchableOpacity onPress={() => this.decreaseProductFromCart(index)}>\r\n          <View>\r\n            <Ionicons name=\"remove-circle-outline\" size={30} color=\"#009387\" />\r\n          </View>\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    const element = (data, index) => (\r\n        <TouchableOpacity onPress={() => this.removeProductFromCart(index)}>\r\n          <View>\r\n            <Ionicons name=\"close-circle-outline\" size={30} color=\"#009387\" />\r\n          </View>\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    return (\r\n        <ScrollView style={styles.container}>\r\n          {/*Starting main header*/}\r\n          <View style={styles.productCartOverallView}>\r\n            <View style={styles.productCartInlineView}>\r\n              <TouchableOpacity\r\n                  onPress={() =>\r\n                      this.props.navigation.navigate('Category', {title: 'Category'})\r\n                  }>\r\n                <Ionicons name=\"cog\" size={30} color=\"#009387\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            <View style={styles.productCartInlineView}>\r\n              <TouchableOpacity\r\n                  onPress={() =>\r\n                      this.props.navigation.navigate('product', {title: 'Product'})\r\n                  }>\r\n                <Ionicons name=\"pricetags\" size={30} color=\"#009387\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            <View style={styles.productCartInlineView}>\r\n              <TouchableOpacity\r\n                  onPress={() =>\r\n                      this.props.navigation.navigate('Cart', {title: 'Cart'})\r\n                  }>\r\n                <Ionicons name=\"cart\" size={30} color=\"#009387\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          {/*Ending main header*/}\r\n\r\n          {/*Stating*/}\r\n          <Table borderStyle={{borderColor: 'transparent'}}>\r\n            <Row\r\n                data={state.tableHead}\r\n                style={styles.head}\r\n                textStyle={styles.text}\r\n            />\r\n            {this.state.tableData.map((rowData, index) => (\r\n                <TableWrapper key={index} style={styles.row}>\r\n                  <Cell key={index} data={index + 1} textStyle={styles.text} />\r\n                  {Object.values(rowData)\r\n                      .filter((element, index) => index != 3)\r\n                      .map((cellData, cellIndex) => (\r\n                          <Cell\r\n                              key={cellIndex}\r\n                              data={cellData}\r\n                              textStyle={styles.text}\r\n                          />\r\n                      ))}\r\n                  <Cell key={5} data={element2(index)} />\r\n                  <Cell key={5} data={element3(index)} />\r\n                  <Cell key={4} textStyle={styles.text} data={element(1, index)} />\r\n                </TableWrapper>\r\n            ))}\r\n          </Table>\r\n\r\n          <View style={styles.textContainer}>\r\n            <Text style={styles.inlineTextContainer}>\r\n              Sub Total : {this.state.totalAmount}\r\n            </Text>\r\n            <TextInput\r\n                placeholder=\"Discount\"\r\n                keyboardType=\"numeric\"\r\n                placeholderTextColor=\"#333\"\r\n                value={this.state.discount.toString()}\r\n                onChangeText={(text) => this.discountOnChangeHandler(text)}\r\n            />\r\n            <Text style={styles.inlineTextContainer}>\r\n              Grand Total(Bill Value) :{this.state.grandTotal}\r\n            </Text>\r\n          </View>\r\n\r\n\r\n          {/*  /////////// starting submit button ///////////////////////////////////////////////////////////// */}\r\n          <View>\r\n            <TouchableOpacity\r\n                onPress={() => this.submitButtonHandler()}\r\n                style={styles.orderNowBtn}>\r\n              <Text style={{}}>Order Now</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          {/*  /////////// ending submit button ///////////////////////////////////////////////////////////// */}\r\n        </ScrollView>\r\n    );\r\n  }\r\n}\r\n\r\nCart.contextType = CartContext;\r\n// Cart.contextType = UserContext;\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n    paddingTop: 30,\r\n    backgroundColor: '#fff',\r\n  },\r\n\r\n  head: {\r\n    height: 40,\r\n    backgroundColor: '#808B97',\r\n  },\r\n\r\n  text: {\r\n    margin: 6,\r\n  },\r\n\r\n  row: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#FFF1C1',\r\n  },\r\n\r\n  btn: {\r\n    width: 58,\r\n    height: 18,\r\n    backgroundColor: '#78B7BB',\r\n    borderRadius: 2,\r\n  },\r\n\r\n  btnText: {\r\n    textAlign: 'center',\r\n    color: '#fff',\r\n  },\r\n\r\n  productCartOverallView: {\r\n    flexDirection: 'row',\r\n    width: '80%',\r\n    alignSelf: 'center',\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n  },\r\n\r\n  productCartInlineView: {\r\n    borderWidth: 0.8,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    alignSelf: 'center',\r\n    width: 100,\r\n    height: 30,\r\n    backgroundColor: '#d1e5d1',\r\n    borderRadius: 60,\r\n    textAlign: 'center',\r\n    marginRight: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  buttonContainer: {\r\n    margin: 20,\r\n  },\r\n  multiButtonContainer: {\r\n    margin: 20,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n\r\n  addToCart: {\r\n    height: 25,\r\n    width: '40%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#009387',\r\n    borderRadius: 10,\r\n    marginRight: 0,\r\n  },\r\n\r\n  addToCartText: {\r\n    height: 25,\r\n    width: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#009387',\r\n    borderRadius: 10,\r\n    marginRight: 10,\r\n  },\r\n\r\n  formWrapper: {\r\n    width: '80%',\r\n    marginTop: 30,\r\n  },\r\n\r\n  formRow: {\r\n    marginBottom: 10,\r\n  },\r\n\r\n  textInput: {\r\n    backgroundColor: '#add',\r\n    height: 40,\r\n    paddingHorizontal: 10,\r\n    color: '#333',\r\n    borderRadius: 20,\r\n  },\r\n\r\n  textContainer: {\r\n    marginTop: 20,\r\n  },\r\n\r\n  inlineTextContainer: {\r\n    color: '#333',\r\n    /*fontWeight: 'bold',*/\r\n    fontSize: 15,\r\n    marginTop: 10,\r\n  },\r\n\r\n  orderNowBtn: {\r\n    height: 42,\r\n    width: 100,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    backgroundColor: 'green',\r\n    borderRadius: 20,\r\n  },\r\n\r\n  orderNowText: {\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}