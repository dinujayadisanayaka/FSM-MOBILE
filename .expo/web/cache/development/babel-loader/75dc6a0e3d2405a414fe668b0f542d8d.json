{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dinujaya\\\\Desktop\\\\AwesomeProject\\\\Screens\\\\Cart.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Table, TableWrapper, Row, Cell } from 'react-native-table-component';\nimport { cart, CartContext } from \"../Context/context\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nvar initialState = {\n  tableHead: ['Item No', 'Item Name', 'Quantity', 'Sales Price', 'Increase', 'Decrease', 'Remove'],\n  tableData: [],\n  totalAmount: 0,\n  discount: 0,\n  grandTotal: 0,\n  userId: '',\n  shopId: ''\n};\n\nvar Cart = function (_Component) {\n  _inherits(Cart, _Component);\n\n  var _super = _createSuper(Cart);\n\n  function Cart() {\n    var _this;\n\n    _classCallCheck(this, Cart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = initialState;\n\n    _this.discountOnChangeHandler = function (discount) {\n      _this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          discount: discount,\n          grandTotal: parseFloat(_this.state.totalAmount) - parseFloat(_this.state.totalAmount * discount / 100)\n        });\n      });\n    };\n\n    _this.userOnChangeHandler = function (userid) {\n      _this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          userId: userid\n        });\n      });\n    };\n\n    _this.shopOnChangeHandler = function (shopid) {\n      _this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          shopId: shopid\n        });\n      });\n    };\n\n    _this.refreshCart = function () {\n      cart.products = [];\n      cart.totalAmaount = 0;\n\n      _this.setState(initialState);\n    };\n\n    _this.submitButtonHandler = function () {\n      var _console;\n\n      fetch('http://104.236.38.247:8000/api/order', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          grandTotal: _this.state.grandTotal,\n          discount: _this.state.discount,\n          userId: _this.state.userId,\n          shopId: _this.state.shopId,\n          productDetails: _toConsumableArray(_this.state.tableData)\n        })\n      });\n      console.log('grandTotal' + _this.state.grandTotal);\n      console.log('discount' + _this.state.discount);\n      console.log('userId' + _this.state.userId);\n      console.log('shopId' + _this.state.shopId);\n      console.log('productDetails');\n\n      (_console = console).log.apply(_console, _toConsumableArray(_this.state.tableData));\n\n      _this.refreshCart();\n    };\n\n    return _this;\n  }\n\n  _createClass(Cart, [{\n    key: \"removeProductFromCart\",\n    value: function removeProductFromCart(index) {\n      var _this2 = this;\n\n      cart.totalAmaount = parseFloat(cart.totalAmaount) - parseFloat(cart.products[index].salesPrice * cart.products[index].productQuantity);\n      cart.products.splice(index, 1);\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: _this2.context.products,\n          totalAmount: _this2.context.totalAmaount,\n          grandTotal: parseFloat(_this2.context.totalAmaount) - parseFloat(_this2.context.totalAmaount * _this2.state.discount / 100)\n        });\n      });\n    }\n  }, {\n    key: \"increaseProductFromCart\",\n    value: function increaseProductFromCart(index2) {\n      var _this3 = this;\n\n      var newArray = this.state.tableData.map(function (elemet, index) {\n        if (index == index2) {\n          return _objectSpread(_objectSpread({}, elemet), {}, {\n            productQuantity: parseInt(elemet.productQuantity) + 1\n          });\n        }\n\n        return elemet;\n      });\n      var totalAmount = newArray.map(function (product) {\n        return product.productQuantity * product.salesPrice;\n      }).reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: newArray,\n          totalAmount: totalAmount,\n          grandTotal: parseFloat(totalAmount) - parseFloat(totalAmount * _this3.state.discount / 100)\n        });\n      });\n      cart.totalAmaount = totalAmount;\n      cart.products = newArray;\n    }\n  }, {\n    key: \"decreaseProductFromCart\",\n    value: function decreaseProductFromCart(index2) {\n      var _this4 = this;\n\n      var newArray = this.state.tableData.map(function (elemet, index) {\n        if (index == index2) {\n          return _objectSpread(_objectSpread({}, elemet), {}, {\n            productQuantity: parseInt(elemet.productQuantity) - 1 < 1 ? 1 : parseInt(elemet.productQuantity) - 1\n          });\n        }\n\n        return elemet;\n      });\n      var totalAmount = newArray.map(function (product) {\n        return product.productQuantity * product.salesPrice;\n      }).reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      console.log(totalAmount);\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: newArray,\n          totalAmount: totalAmount,\n          grandTotal: parseFloat(totalAmount) - parseFloat(totalAmount * _this4.state.discount / 100)\n        });\n      });\n      cart.totalAmaount = totalAmount;\n      cart.products = newArray;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this5 = this;\n\n      this.setState(function (cur) {\n        return _objectSpread(_objectSpread({}, cur), {}, {\n          tableData: _this5.context.products,\n          totalAmount: _this5.context.totalAmaount,\n          grandTotal: _this5.context.totalAmaount\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var state = this.state;\n\n      var element2 = function element2(index) {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this6.increaseProductFromCart(index);\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }\n        }, React.createElement(View, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 9\n          }\n        }, React.createElement(Ionicons, {\n          name: \"add-circle-outline\",\n          size: 30,\n          color: \"#009387\",\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 11\n          }\n        })));\n      };\n\n      var element3 = function element3(index) {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this6.decreaseProductFromCart(index);\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 7\n          }\n        }, React.createElement(View, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 9\n          }\n        }, React.createElement(Ionicons, {\n          name: \"remove-circle-outline\",\n          size: 30,\n          color: \"#009387\",\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 11\n          }\n        })));\n      };\n\n      var element = function element(data, index) {\n        return React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this6.removeProductFromCart(index);\n          },\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 7\n          }\n        }, React.createElement(View, {\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 9\n          }\n        }, React.createElement(Ionicons, {\n          name: \"close-circle-outline\",\n          size: 30,\n          color: \"#009387\",\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }\n        })));\n      };\n\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.productCartOverallView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.productCartInlineView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.props.navigation.navigate('Category', {\n            title: 'Category'\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }\n      }, React.createElement(Ionicons, {\n        name: \"cog\",\n        size: 30,\n        color: \"#009387\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }\n      }))), React.createElement(View, {\n        style: styles.productCartInlineView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.props.navigation.navigate('product', {\n            title: 'Product'\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }\n      }, React.createElement(Ionicons, {\n        name: \"pricetags\",\n        size: 30,\n        color: \"#009387\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 15\n        }\n      }))), React.createElement(View, {\n        style: styles.productCartInlineView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.props.navigation.navigate('Cart', {\n            title: 'Cart'\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }\n      }, React.createElement(Ionicons, {\n        name: \"cart\",\n        size: 30,\n        color: \"#009387\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }\n      })))), React.createElement(Table, {\n        borderStyle: {\n          borderColor: 'transparent'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 9\n        }\n      }, React.createElement(Row, {\n        data: state.tableHead,\n        style: styles.head,\n        textStyle: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }\n      }), this.state.tableData.map(function (rowData, index) {\n        return React.createElement(TableWrapper, {\n          key: index,\n          style: styles.row,\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }\n        }, React.createElement(Cell, {\n          key: index,\n          data: index + 1,\n          textStyle: styles.text,\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }\n        }), Object.values(rowData).filter(function (element, index) {\n          return index != 3;\n        }).map(function (cellData, cellIndex) {\n          return React.createElement(Cell, {\n            key: cellIndex,\n            data: cellData,\n            textStyle: styles.text,\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 19\n            }\n          });\n        }), React.createElement(Cell, {\n          key: 5,\n          data: element2(index),\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }\n        }), React.createElement(Cell, {\n          key: 5,\n          data: element3(index),\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }\n        }), React.createElement(Cell, {\n          key: 4,\n          textStyle: styles.text,\n          data: element(1, index),\n          __self: _this6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }\n        }));\n      })), React.createElement(View, {\n        style: styles.textContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.inlineTextContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }\n      }, \"Sub Total : \", this.state.totalAmount), React.createElement(TextInput, {\n        placeholder: \"Discount\",\n        keyboardType: \"numeric\",\n        placeholderTextColor: \"#333\",\n        value: this.state.discount.toString(),\n        onChangeText: function onChangeText(text) {\n          return _this6.discountOnChangeHandler(text);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: styles.inlineTextContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }\n      }, \"Grand Total(Bill Value) :\", this.state.grandTotal)), React.createElement(View, {\n        style: styles.formWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.formRow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"Enter user Id\",\n        keyboardType: \"numeric\",\n        placeholderTextColor: \"#333\",\n        value: this.state.userId,\n        onChangeText: function onChangeText(text) {\n          return _this6.userOnChangeHandler(text);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: styles.formRow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"Enter shop ID\",\n        keyboardType: \"numeric\",\n        placeholderTextColor: \"#333\",\n        value: this.state.shopId,\n        onChangeText: function onChangeText(text) {\n          return _this6.shopOnChangeHandler(text);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }\n      }))), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this6.submitButtonHandler();\n        },\n        style: styles.orderNowBtn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }\n      }, \"Order Now\"))));\n    }\n  }]);\n\n  return Cart;\n}(Component);\n\nexport { Cart as default };\nCart.contextType = CartContext;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  head: {\n    height: 40,\n    backgroundColor: '#808B97'\n  },\n  text: {\n    margin: 6\n  },\n  row: {\n    flexDirection: 'row',\n    backgroundColor: '#FFF1C1'\n  },\n  btn: {\n    width: 58,\n    height: 18,\n    backgroundColor: '#78B7BB',\n    borderRadius: 2\n  },\n  btnText: {\n    textAlign: 'center',\n    color: '#fff'\n  },\n  productCartOverallView: {\n    flexDirection: 'row',\n    width: '80%',\n    alignSelf: 'center',\n    marginTop: 0,\n    marginBottom: 10\n  },\n  productCartInlineView: {\n    borderWidth: 0.8,\n    alignItems: 'center',\n    justifyContent: 'center',\n    alignSelf: 'center',\n    width: 100,\n    height: 30,\n    backgroundColor: '#d1e5d1',\n    borderRadius: 60,\n    textAlign: 'center',\n    marginRight: 10,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  buttonContainer: {\n    margin: 20\n  },\n  multiButtonContainer: {\n    margin: 20,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  addToCart: {\n    height: 25,\n    width: '40%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#009387',\n    borderRadius: 10,\n    marginRight: 0\n  },\n  addToCartText: {\n    height: 25,\n    width: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#009387',\n    borderRadius: 10,\n    marginRight: 10\n  },\n  formWrapper: {\n    width: '80%',\n    marginTop: 30\n  },\n  formRow: {\n    marginBottom: 10\n  },\n  textInput: {\n    backgroundColor: '#add',\n    height: 40,\n    paddingHorizontal: 10,\n    color: '#333',\n    borderRadius: 20\n  },\n  textContainer: {\n    marginTop: 20\n  },\n  inlineTextContainer: {\n    color: '#333',\n    fontSize: 15,\n    marginTop: 10\n  },\n  orderNowBtn: {\n    height: 42,\n    width: 100,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center',\n    backgroundColor: 'green',\n    borderRadius: 20\n  },\n  orderNowText: {\n    color: 'white',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 16\n  }\n});","map":{"version":3,"sources":["C:/Users/Dinujaya/Desktop/AwesomeProject/Screens/Cart.js"],"names":["React","Component","Table","TableWrapper","Row","Cell","cart","CartContext","Ionicons","initialState","tableHead","tableData","totalAmount","discount","grandTotal","userId","shopId","Cart","state","discountOnChangeHandler","setState","cur","parseFloat","userOnChangeHandler","userid","shopOnChangeHandler","shopid","refreshCart","products","totalAmaount","submitButtonHandler","fetch","method","headers","Accept","body","JSON","stringify","productDetails","console","log","index","salesPrice","productQuantity","splice","context","index2","newArray","map","elemet","parseInt","product","reduce","a","b","element2","increaseProductFromCart","element3","decreaseProductFromCart","element","data","removeProductFromCart","styles","container","productCartOverallView","productCartInlineView","props","navigation","navigate","title","borderColor","head","text","rowData","row","Object","values","filter","cellData","cellIndex","textContainer","inlineTextContainer","toString","formWrapper","formRow","textInput","orderNowBtn","contextType","StyleSheet","create","flex","padding","paddingTop","backgroundColor","height","margin","flexDirection","btn","width","borderRadius","btnText","textAlign","color","alignSelf","marginTop","marginBottom","borderWidth","alignItems","justifyContent","marginRight","buttonContainer","multiButtonContainer","addToCart","addToCartText","paddingHorizontal","fontSize","orderNowText","fontWeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  TouchableOpacity,\r\n  TextInput,\r\n  ScrollView,\r\n} from 'react-native';\r\nimport {Table, TableWrapper, Row, Cell} from 'react-native-table-component';\r\nimport {cart, CartContext} from '../Context/context';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\n\r\nconst initialState = {\r\n  tableHead: [\r\n    'Item No',\r\n    'Item Name',\r\n    'Quantity',\r\n    'Sales Price',\r\n    'Increase',\r\n    'Decrease',\r\n    'Remove',\r\n  ],\r\n  tableData: [],\r\n  totalAmount: 0,\r\n  discount: 0,\r\n  grandTotal: 0,\r\n  userId: '',\r\n  shopId: '',\r\n};\r\nexport default class Cart extends Component {\r\n  /*Starting - using table*/\r\n  state = initialState;\r\n\r\n  // Starting removeProductFromCart\r\n  removeProductFromCart(index) {\r\n    cart.totalAmaount =\r\n      parseFloat(cart.totalAmaount) -\r\n      parseFloat(\r\n        cart.products[index].salesPrice * cart.products[index].productQuantity,\r\n      );\r\n\r\n    cart.products.splice(index, 1);\r\n\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: this.context.products,\r\n      totalAmount: this.context.totalAmaount,\r\n      grandTotal:\r\n        parseFloat(this.context.totalAmaount) -\r\n        parseFloat((this.context.totalAmaount * this.state.discount) / 100),\r\n    }));\r\n  }\r\n  // Starting removeProductFromCart\r\n\r\n  // Starting increase quantity working\r\n  increaseProductFromCart(index2) {\r\n    const newArray = this.state.tableData.map((elemet, index) => {\r\n      if (index == index2) {\r\n        return {\r\n          ...elemet,\r\n          productQuantity: parseInt(elemet.productQuantity) + 1,\r\n        };\r\n      }\r\n      return elemet;\r\n    });\r\n\r\n    const totalAmount = newArray\r\n      .map((product) => product.productQuantity * product.salesPrice)\r\n      .reduce((a, b) => a + b, 0);\r\n\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: newArray,\r\n      totalAmount,\r\n      grandTotal:\r\n        parseFloat(totalAmount) -\r\n        parseFloat((totalAmount * this.state.discount) / 100),\r\n    }));\r\n\r\n    cart.totalAmaount = totalAmount;\r\n    cart.products = newArray;\r\n  }\r\n  // Ending increase quantity working\r\n\r\n  // Starting decrease quantity working\r\n  decreaseProductFromCart(index2) {\r\n    const newArray = this.state.tableData.map((elemet, index) => {\r\n      if (index == index2) {\r\n        return {\r\n          ...elemet,\r\n          productQuantity:\r\n            parseInt(elemet.productQuantity) - 1 < 1\r\n              ? 1\r\n              : parseInt(elemet.productQuantity) - 1,\r\n        };\r\n      }\r\n      return elemet;\r\n    });\r\n\r\n    const totalAmount = newArray\r\n      .map((product) => product.productQuantity * product.salesPrice)\r\n      .reduce((a, b) => a + b, 0);\r\n\r\n    console.log(totalAmount);\r\n\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: newArray,\r\n      totalAmount: totalAmount,\r\n      grandTotal:\r\n        parseFloat(totalAmount) -\r\n        parseFloat((totalAmount * this.state.discount) / 100),\r\n    }));\r\n\r\n    cart.totalAmaount = totalAmount;\r\n    cart.products = newArray;\r\n  }\r\n\r\n  // Ending decrease quantity working\r\n\r\n  componentDidMount() {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      tableData: this.context.products,\r\n      totalAmount: this.context.totalAmaount,\r\n      grandTotal: this.context.totalAmaount,\r\n    }));\r\n  }\r\n\r\n  discountOnChangeHandler = (discount) => {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      discount,\r\n      grandTotal:\r\n        parseFloat(this.state.totalAmount) -\r\n        parseFloat((this.state.totalAmount * discount) / 100),\r\n    }));\r\n  };\r\n\r\n  /*  onChangeHandler = ({key, value}) => {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      [key]: value,\r\n    }));\r\n  };*/\r\n\r\n  userOnChangeHandler = (userid) => {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      userId: userid,\r\n    }));\r\n  };\r\n\r\n  shopOnChangeHandler = (shopid) => {\r\n    this.setState((cur) => ({\r\n      ...cur,\r\n      shopId: shopid,\r\n    }));\r\n  };\r\n\r\n  refreshCart = () => {\r\n    cart.products = [];\r\n    cart.totalAmaount = 0;\r\n    this.setState(initialState);\r\n  };\r\n\r\n  /*Starting submit*/\r\n\r\n  submitButtonHandler = () => {\r\n    fetch('http://104.236.38.247:8000/api/order', {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        grandTotal: this.state.grandTotal,\r\n        discount: this.state.discount,\r\n        userId: this.state.userId,\r\n        shopId: this.state.shopId,\r\n        productDetails: [...this.state.tableData],\r\n      }),\r\n    });\r\n\r\n    console.log('grandTotal' + this.state.grandTotal);\r\n    console.log('discount' + this.state.discount);\r\n    console.log('userId' + this.state.userId);\r\n    console.log('shopId' + this.state.shopId);\r\n    console.log('productDetails');\r\n    console.log(...this.state.tableData);\r\n\r\n    this.refreshCart();\r\n  };\r\n\r\n  /*Ending submit*/\r\n\r\n  render() {\r\n    const state = this.state;\r\n\r\n    const element2 = (index) => (\r\n      <TouchableOpacity onPress={() => this.increaseProductFromCart(index)}>\r\n        <View>\r\n          <Ionicons name=\"add-circle-outline\" size={30} color=\"#009387\" />\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n\r\n    const element3 = (index) => (\r\n      <TouchableOpacity onPress={() => this.decreaseProductFromCart(index)}>\r\n        <View>\r\n          <Ionicons name=\"remove-circle-outline\" size={30} color=\"#009387\" />\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n\r\n    const element = (data, index) => (\r\n      <TouchableOpacity onPress={() => this.removeProductFromCart(index)}>\r\n        <View>\r\n          <Ionicons name=\"close-circle-outline\" size={30} color=\"#009387\" />\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n\r\n    return (\r\n      <ScrollView style={styles.container}>\r\n        {/*Starting main header*/}\r\n        <View style={styles.productCartOverallView}>\r\n          <View style={styles.productCartInlineView}>\r\n            <TouchableOpacity\r\n              onPress={() =>\r\n                this.props.navigation.navigate('Category', {title: 'Category'})\r\n              }>\r\n              <Ionicons name=\"cog\" size={30} color=\"#009387\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.productCartInlineView}>\r\n            <TouchableOpacity\r\n              onPress={() =>\r\n                this.props.navigation.navigate('product', {title: 'Product'})\r\n              }>\r\n              <Ionicons name=\"pricetags\" size={30} color=\"#009387\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={styles.productCartInlineView}>\r\n            <TouchableOpacity\r\n              onPress={() =>\r\n                this.props.navigation.navigate('Cart', {title: 'Cart'})\r\n              }>\r\n              <Ionicons name=\"cart\" size={30} color=\"#009387\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        {/*Ending main header*/}\r\n\r\n        {/*Stating*/}\r\n        <Table borderStyle={{borderColor: 'transparent'}}>\r\n          <Row\r\n            data={state.tableHead}\r\n            style={styles.head}\r\n            textStyle={styles.text}\r\n          />\r\n          {this.state.tableData.map((rowData, index) => (\r\n            <TableWrapper key={index} style={styles.row}>\r\n              <Cell key={index} data={index + 1} textStyle={styles.text} />\r\n              {Object.values(rowData)\r\n                .filter((element, index) => index != 3)\r\n                .map((cellData, cellIndex) => (\r\n                  <Cell\r\n                    key={cellIndex}\r\n                    data={cellData}\r\n                    textStyle={styles.text}\r\n                  />\r\n                ))}\r\n              <Cell key={5} data={element2(index)} />\r\n              <Cell key={5} data={element3(index)} />\r\n              <Cell key={4} textStyle={styles.text} data={element(1, index)} />\r\n            </TableWrapper>\r\n          ))}\r\n        </Table>\r\n\r\n        <View style={styles.textContainer}>\r\n          <Text style={styles.inlineTextContainer}>\r\n            Sub Total : {this.state.totalAmount}\r\n          </Text>\r\n          <TextInput\r\n            placeholder=\"Discount\"\r\n            keyboardType=\"numeric\"\r\n            placeholderTextColor=\"#333\"\r\n            value={this.state.discount.toString()}\r\n            onChangeText={(text) => this.discountOnChangeHandler(text)}\r\n          />\r\n          <Text style={styles.inlineTextContainer}>\r\n            Grand Total(Bill Value) :{this.state.grandTotal}\r\n          </Text>\r\n        </View>\r\n\r\n        <View style={styles.formWrapper}>\r\n          <View style={styles.formRow}>\r\n            <TextInput\r\n              style={styles.textInput}\r\n              placeholder=\"Enter user Id\"\r\n              keyboardType=\"numeric\"\r\n              placeholderTextColor=\"#333\"\r\n              value={this.state.userId}\r\n              /*onChangeText={(userId) =>\r\n                this.onChangeHandler({key: 'userId', userId})\r\n              }*/\r\n              onChangeText={(text) => this.userOnChangeHandler(text)}\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.formRow}>\r\n            <TextInput\r\n              style={styles.textInput}\r\n              placeholder=\"Enter shop ID\"\r\n              keyboardType=\"numeric\"\r\n              placeholderTextColor=\"#333\"\r\n              value={this.state.shopId}\r\n              /*onChangeText={(shopId) =>\r\n                this.onChangeHandler({key: 'shopId', shopId})\r\n              }*/\r\n              onChangeText={(text) => this.shopOnChangeHandler(text)}\r\n            />\r\n          </View>\r\n        </View>\r\n\r\n        {/*  /////////// starting submit button ///////////////////////////////////////////////////////////// */}\r\n        <View>\r\n          <TouchableOpacity\r\n            onPress={() => this.submitButtonHandler()}\r\n            style={styles.orderNowBtn}>\r\n            <Text style={{}}>Order Now</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/*  /////////// ending submit button ///////////////////////////////////////////////////////////// */}\r\n      </ScrollView>\r\n    );\r\n  }\r\n}\r\n\r\nCart.contextType = CartContext;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n    paddingTop: 30,\r\n    backgroundColor: '#fff',\r\n  },\r\n\r\n  head: {\r\n    height: 40,\r\n    backgroundColor: '#808B97',\r\n  },\r\n\r\n  text: {\r\n    margin: 6,\r\n  },\r\n\r\n  row: {\r\n    flexDirection: 'row',\r\n    backgroundColor: '#FFF1C1',\r\n  },\r\n\r\n  btn: {\r\n    width: 58,\r\n    height: 18,\r\n    backgroundColor: '#78B7BB',\r\n    borderRadius: 2,\r\n  },\r\n\r\n  btnText: {\r\n    textAlign: 'center',\r\n    color: '#fff',\r\n  },\r\n\r\n  productCartOverallView: {\r\n    flexDirection: 'row',\r\n    width: '80%',\r\n    alignSelf: 'center',\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n  },\r\n\r\n  productCartInlineView: {\r\n    borderWidth: 0.8,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    alignSelf: 'center',\r\n    width: 100,\r\n    height: 30,\r\n    backgroundColor: '#d1e5d1',\r\n    borderRadius: 60,\r\n    textAlign: 'center',\r\n    marginRight: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  buttonContainer: {\r\n    margin: 20,\r\n  },\r\n  multiButtonContainer: {\r\n    margin: 20,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n\r\n  addToCart: {\r\n    height: 25,\r\n    width: '40%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#009387',\r\n    borderRadius: 10,\r\n    marginRight: 0,\r\n  },\r\n\r\n  addToCartText: {\r\n    height: 25,\r\n    width: 30,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#009387',\r\n    borderRadius: 10,\r\n    marginRight: 10,\r\n  },\r\n\r\n  formWrapper: {\r\n    width: '80%',\r\n    marginTop: 30,\r\n  },\r\n\r\n  formRow: {\r\n    marginBottom: 10,\r\n  },\r\n\r\n  textInput: {\r\n    backgroundColor: '#add',\r\n    height: 40,\r\n    paddingHorizontal: 10,\r\n    color: '#333',\r\n    borderRadius: 20,\r\n  },\r\n\r\n  textContainer: {\r\n    marginTop: 20,\r\n  },\r\n\r\n  inlineTextContainer: {\r\n    color: '#333',\r\n    /*fontWeight: 'bold',*/\r\n    fontSize: 15,\r\n    marginTop: 10,\r\n  },\r\n\r\n  orderNowBtn: {\r\n    height: 42,\r\n    width: 100,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    alignSelf: 'center',\r\n    backgroundColor: 'green',\r\n    borderRadius: 20,\r\n  },\r\n\r\n  orderNowText: {\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}